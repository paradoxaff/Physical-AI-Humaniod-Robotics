"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics=globalThis.webpackChunkphysical_ai_humanoid_robotics||[]).push([[844],{4555:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"modules/module-01-ros2/nodes-topics-services","title":"Lesson 2 - Nodes, Topics, and Services","description":"Learning Objectives","source":"@site/docs/modules/module-01-ros2/nodes-topics-services.mdx","sourceDirName":"modules/module-01-ros2","slug":"/modules/module-01-ros2/nodes-topics-services","permalink":"/docs/modules/module-01-ros2/nodes-topics-services","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/modules/module-01-ros2/nodes-topics-services.mdx","tags":[],"version":"current","frontMatter":{"title":"Lesson 2 - Nodes, Topics, and Services","sidebar_label":"Nodes, Topics, and Services"},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/docs/modules/module-01-ros2/"},"next":{"title":"Physical AI and the Robotic Nervous System","permalink":"/docs/modules/module-01-ros2/physical-ai-robotic-nervous-system"}}');var r=s(4848),a=s(8453);const o={title:"Lesson 2 - Nodes, Topics, and Services",sidebar_label:"Nodes, Topics, and Services"},t="Lesson 2: Nodes, Topics, and Services",l={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Physical AI Concept",id:"physical-ai-concept",level:2},{value:"System Architecture",id:"system-architecture",level:2},{value:"Communication Patterns in ROS 2",id:"communication-patterns-in-ros-2",level:3},{value:"Quality of Service (QoS) Policies",id:"quality-of-service-qos-policies",level:3},{value:"Tools &amp; Software",id:"tools--software",level:2},{value:"Code / Configuration Examples",id:"code--configuration-examples",level:2},{value:"Creating Custom Message Types",id:"creating-custom-message-types",level:3},{value:"Publisher Node with Custom Message",id:"publisher-node-with-custom-message",level:3},{value:"Subscriber Node",id:"subscriber-node",level:3},{value:"Service Server Node",id:"service-server-node",level:3},{value:"Service Client Node",id:"service-client-node",level:3},{value:"Practical Lab / Simulation",id:"practical-lab--simulation",level:2},{value:"Lab Exercise 1: Topic Communication",id:"lab-exercise-1-topic-communication",level:3},{value:"Lab Exercise 2: Service Communication",id:"lab-exercise-2-service-communication",level:3},{value:"Lab Exercise 3: QoS Policy Experimentation",id:"lab-exercise-3-qos-policy-experimentation",level:3},{value:"Real-World Mapping",id:"real-world-mapping",level:2},{value:"Industrial Applications",id:"industrial-applications",level:3},{value:"Autonomous Systems",id:"autonomous-systems",level:3},{value:"Research Platforms",id:"research-platforms",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"lesson-2-nodes-topics-and-services",children:"Lesson 2: Nodes, Topics, and Services"})}),"\n",(0,r.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsx)(n.p,{children:"By the end of this lesson, you will be able to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Implement ROS 2 nodes with proper lifecycle management"}),"\n",(0,r.jsx)(n.li,{children:"Design and use custom message types for communication"}),"\n",(0,r.jsx)(n.li,{children:"Create publisher-subscriber patterns using topics"}),"\n",(0,r.jsx)(n.li,{children:"Implement request-response communication using services"}),"\n",(0,r.jsx)(n.li,{children:"Apply Quality of Service (QoS) policies appropriately"}),"\n",(0,r.jsx)(n.li,{children:"Debug communication issues between nodes"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"physical-ai-concept",children:"Physical AI Concept"}),"\n",(0,r.jsx)(n.p,{children:"In Physical AI systems, the node-topic-service architecture enables modular development while maintaining tight integration between perception, decision-making, and action. Nodes represent functional units (sensors, controllers, AI modules) that communicate through well-defined interfaces. Topics enable asynchronous, many-to-many communication patterns typical in sensor data distribution, while services provide synchronous request-response patterns for critical operations requiring guaranteed delivery and response."}),"\n",(0,r.jsx)(n.p,{children:"This architecture supports:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Modularity"}),": Components can be developed and tested independently"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scalability"}),": New nodes can be added without modifying existing ones"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Real-time performance"}),": Direct communication paths minimize latency"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fault tolerance"}),": Independent nodes prevent cascading failures"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Distributed computing"}),": Nodes can run on different hardware platforms"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"system-architecture",children:"System Architecture"}),"\n",(0,r.jsx)(n.h3,{id:"communication-patterns-in-ros-2",children:"Communication Patterns in ROS 2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Topic Communication (Publisher-Subscriber):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Publisher   \u2502 \u2500\u2500\u2500\u2500\u2500\u2500> \u2502    Topic    \u2502 \u2500\u2500\u2500\u2500\u2500\u2500> \u2502 Subscriber  \u2502\n\u2502 Node A      \u2502         \u2502   (DDS)     \u2502         \u2502 Node B      \u2502\n\u2502             \u2502         \u2502             \u2502         \u2502             \u2502\n\u2502 \u2022 Publishes \u2502         \u2502 \u2022 Routes    \u2502         \u2502 \u2022 Subscribes\u2502\n\u2502   messages  \u2502         \u2502   messages  \u2502         \u2502   to topic  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502                                               \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    (One-to-Many Pattern)\n\nService Communication (Client-Server):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Client      \u2502 \u2500\u2500\u2500\u2500\u2500\u2500> \u2502   Service   \u2502 \u2500\u2500\u2500\u2500\u2500\u2500> \u2502 Server      \u2502\n\u2502 Node A      \u2502         \u2502   (DDS)     \u2502         \u2502 Node B      \u2502\n\u2502             \u2502         \u2502             \u2502         \u2502             \u2502\n\u2502 \u2022 Makes     \u2502         \u2502 \u2022 Processes \u2502         \u2502 \u2022 Provides  \u2502\n\u2502   requests  \u2502         \u2502   requests  \u2502         \u2502   service   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u25b2                                               \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    (Synchronous Request-Response)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"quality-of-service-qos-policies",children:"Quality of Service (QoS) Policies"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 provides several QoS policies to ensure appropriate communication behavior:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reliability"}),": Best effort vs Reliable delivery"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Durability"}),": Volatile vs Transient local history"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"History"}),": Keep last N messages vs Keep all messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Deadline"}),": Maximum time between consecutive messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Liveliness"}),": How to determine if publisher is alive"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tools--software",children:"Tools & Software"}),"\n",(0,r.jsx)(n.p,{children:"This lesson uses:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ROS 2 Humble Hawksbill"})," - Core framework"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"rclpy"})," - Python client library for node implementation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ros2msg"})," - Message definition tools"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ros2srv"})," - Service definition tools"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ros2 interface"})," - Interface introspection tools"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RViz2"})," - Visualization for message flow"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"rqt"})," - GUI debugging tools"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"code--configuration-examples",children:"Code / Configuration Examples"}),"\n",(0,r.jsx)(n.h3,{id:"creating-custom-message-types",children:"Creating Custom Message Types"}),"\n",(0,r.jsxs)(n.p,{children:["First, create a custom message definition file ",(0,r.jsx)(n.code,{children:"msg/ObjectDetection.msg"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# ObjectDetection.msg\n# Represents a detected object in the environment\n\n# Position of the object in image coordinates\nfloat64 x\nfloat64 y\nfloat64 z  # depth if available\n\n# Object properties\nstring object_class\nfloat32 confidence\nfloat64[] bounding_box  # [x_min, y_min, x_max, y_max]\n\n# Timestamp\nbuiltin_interfaces/Time timestamp\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Create a custom service definition file ",(0,r.jsx)(n.code,{children:"srv/FindObject.srv"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# FindObject.srv\n# Request to find a specific object in the environment\n\nstring object_name  # Name of object to find\n---\nbool success        # True if object was found\nObjectDetection[] detections  # Array of detected objects matching the request\nfloat64 execution_time  # Time taken to execute the request\n"})}),"\n",(0,r.jsx)(n.h3,{id:"publisher-node-with-custom-message",children:"Publisher Node with Custom Message"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\nfrom builtin_interfaces.msg import Time\nfrom example_interfaces.msg import Float64\nfrom sensor_msgs.msg import LaserScan\nimport random\nimport time\n\nclass SensorNode(Node):\n    def __init__(self):\n        super().__init__('sensor_node')\n\n        # Publisher for sensor data with QoS configuration\n        qos_profile = rclpy.qos.QoSProfile(\n            depth=10,\n            reliability=rclpy.qos.ReliabilityPolicy.BEST_EFFORT,\n            durability=rclpy.qos.DurabilityPolicy.VOLATILE\n        )\n\n        self.sensor_pub = self.create_publisher(LaserScan, '/sensors/laser_scan', qos_profile)\n        self.status_pub = self.create_publisher(String, '/sensors/status', 10)\n\n        # Timer for periodic sensor data publishing\n        self.timer = self.create_timer(0.1, self.publish_sensor_data)  # 10 Hz\n\n        self.get_logger().info('Sensor node initialized')\n\n    def publish_sensor_data(self):\n        # Create and populate laser scan message\n        scan_msg = LaserScan()\n        scan_msg.header.stamp = self.get_clock().now().to_msg()\n        scan_msg.header.frame_id = 'laser_frame'\n\n        # Set laser scan parameters\n        scan_msg.angle_min = -1.57  # -90 degrees in radians\n        scan_msg.angle_max = 1.57   # 90 degrees in radians\n        scan_msg.angle_increment = 0.0174  # 1 degree in radians\n        scan_msg.time_increment = 0.0\n        scan_msg.scan_time = 0.1\n        scan_msg.range_min = 0.1\n        scan_msg.range_max = 10.0\n\n        # Generate simulated sensor readings (with some noise)\n        num_readings = int((scan_msg.angle_max - scan_msg.angle_min) / scan_msg.angle_increment)\n        scan_msg.ranges = []\n\n        for i in range(num_readings):\n            # Simulate distance readings with some obstacles\n            angle = scan_msg.angle_min + i * scan_msg.angle_increment\n            # Create a simple environment with a wall at 2m and some obstacles\n            distance = 2.0 + 0.5 * random.random()  # Base distance with noise\n            if 0.5 < abs(angle) < 0.6:  # Simulate an obstacle to the side\n                distance = 0.8 + 0.2 * random.random()\n            scan_msg.ranges.append(distance)\n\n        # Publish sensor data\n        self.sensor_pub.publish(scan_msg)\n\n        # Publish status message\n        status_msg = String()\n        status_msg.data = f'Sensor data published: {len(scan_msg.ranges)} readings'\n        self.status_pub.publish(status_msg)\n\n        self.get_logger().debug(f'Published laser scan with {len(scan_msg.ranges)} readings')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = SensorNode()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"subscriber-node",children:"Subscriber Node"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import LaserScan\nfrom std_msgs.msg import String\nimport numpy as np\n\nclass ProcessingNode(Node):\n    def __init__(self):\n        super().__init__('processing_node')\n\n        # Subscriber with QoS matching publisher\n        qos_profile = rclpy.qos.QoSProfile(\n            depth=10,\n            reliability=rclpy.qos.ReliabilityPolicy.BEST_EFFORT,\n            durability=rclpy.qos.DurabilityPolicy.VOLATILE\n        )\n\n        self.scan_sub = self.create_subscription(\n            LaserScan,\n            '/sensors/laser_scan',\n            self.scan_callback,\n            qos_profile\n        )\n\n        # Publisher for processed data\n        self.obstacle_pub = self.create_publisher(String, '/processing/obstacles', 10)\n\n        self.get_logger().info('Processing node initialized')\n\n    def scan_callback(self, msg):\n        # Process laser scan data to detect obstacles\n        ranges = np.array(msg.ranges)\n\n        # Filter out invalid readings (inf, nan)\n        valid_ranges = ranges[np.isfinite(ranges)]\n\n        if len(valid_ranges) == 0:\n            self.get_logger().warn('No valid range readings')\n            return\n\n        # Detect obstacles (distances less than 1.0m)\n        obstacle_threshold = 1.0\n        obstacle_indices = np.where(valid_ranges < obstacle_threshold)[0]\n\n        if len(obstacle_indices) > 0:\n            # Calculate angle to closest obstacle\n            closest_obstacle_idx = obstacle_indices[np.argmin(valid_ranges[obstacle_indices])]\n            angle_to_obstacle = msg.angle_min + closest_obstacle_idx * msg.angle_increment\n\n            # Publish obstacle warning\n            obstacle_msg = String()\n            obstacle_msg.data = f'OBSTACLE_DETECTED: distance={valid_ranges[closest_obstacle_idx]:.2f}m, angle={np.degrees(angle_to_obstacle):.2f}deg'\n            self.obstacle_pub.publish(obstacle_msg)\n\n            self.get_logger().info(f'Obstacle detected: {obstacle_msg.data}')\n        else:\n            # Publish clear path message\n            clear_msg = String()\n            clear_msg.data = 'PATH_CLEAR'\n            self.obstacle_pub.publish(clear_msg)\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = ProcessingNode()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"service-server-node",children:"Service Server Node"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.srv import Trigger\nfrom std_msgs.msg import String\nimport time\n\nclass NavigationService(Node):\n    def __init__(self):\n        super().__init__('navigation_service')\n\n        # Create service server\n        self.srv = self.create_service(\n            Trigger,  # Using Trigger service for simplicity\n            '/navigation/check_safety',\n            self.check_safety_callback\n        )\n\n        # Subscribe to obstacle status\n        self.obstacle_sub = self.create_subscription(\n            String,\n            '/processing/obstacles',\n            self.obstacle_status_callback,\n            10\n        )\n\n        self.last_obstacle_status = \"PATH_CLEAR\"\n        self.get_logger().info('Navigation service initialized')\n\n    def obstacle_status_callback(self, msg):\n        self.last_obstacle_status = msg.data\n\n    def check_safety_callback(self, request, response):\n        # Simulate processing time\n        time.sleep(0.1)\n\n        # Determine safety based on last obstacle status\n        if \"OBSTACLE\" in self.last_obstacle_status:\n            response.success = False\n            response.message = f'Safety check failed: {self.last_obstacle_status}'\n            self.get_logger().warn(f'Safety check failed: {self.last_obstacle_status}')\n        else:\n            response.success = True\n            response.message = 'Path is safe for navigation'\n            self.get_logger().info('Safety check passed: Path is safe')\n\n        return response\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = NavigationService()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"service-client-node",children:"Service Client Node"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.srv import Trigger\nfrom std_msgs.msg import String\nimport time\n\nclass SafetyMonitor(Node):\n    def __init__(self):\n        super().__init__('safety_monitor')\n\n        # Create service client\n        self.cli = self.create_client(Trigger, '/navigation/check_safety')\n\n        # Wait for service to be available\n        while not self.cli.wait_for_service(timeout_sec=1.0):\n            self.get_logger().info('Service not available, waiting again...')\n\n        # Publisher for safety status\n        self.safety_pub = self.create_publisher(String, '/safety/status', 10)\n\n        # Timer to periodically check safety\n        self.timer = self.create_timer(2.0, self.check_safety_periodically)\n\n        self.get_logger().info('Safety monitor initialized')\n\n    def check_safety_periodically(self):\n        # Create and send request\n        request = Trigger.Request()\n\n        # Asynchronously call the service\n        future = self.cli.call_async(request)\n        future.add_done_callback(self.safety_response_callback)\n\n    def safety_response_callback(self, future):\n        try:\n            response = future.result()\n\n            # Publish safety status\n            status_msg = String()\n            status_msg.data = f\"SAFETY: {response.success}, {response.message}\"\n            self.safety_pub.publish(status_msg)\n\n            if response.success:\n                self.get_logger().info(f'Safety check: {response.message}')\n            else:\n                self.get_logger().warn(f'Safety warning: {response.message}')\n\n        except Exception as e:\n            self.get_logger().error(f'Service call failed: {e}')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = SafetyMonitor()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"practical-lab--simulation",children:"Practical Lab / Simulation"}),"\n",(0,r.jsx)(n.h3,{id:"lab-exercise-1-topic-communication",children:"Lab Exercise 1: Topic Communication"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Create a new ROS 2 package called ",(0,r.jsx)(n.code,{children:"communication_tutorial"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws/src\nros2 pkg create --build-type ament_python communication_tutorial\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Implement the sensor node (publisher) and processing node (subscriber) from the examples above"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Add the necessary dependencies to ",(0,r.jsx)(n.code,{children:"setup.py"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# In setup.py\npackage_dir={'': 'communication_tutorial'},\npackages=find_packages(where='communication_tutorial'),\ndata_files=[\n    ('share/ament_index/resource_index/packages',\n        ['resource/communication_tutorial']),\n    ('share/' + package_name, ['package.xml']),\n],\ninstall_requires=['setuptools'],\nzip_safe=True,\nmaintainer='Your Name',\nmaintainer_email='your.email@example.com',\ndescription='Communication tutorial package',\nlicense='Apache License 2.0',\ntests_require=['pytest'],\nentry_points={\n    'console_scripts': [\n        'sensor_node = communication_tutorial.sensor_node:main',\n        'processing_node = communication_tutorial.processing_node:main',\n        'navigation_service = communication_tutorial.navigation_service:main',\n        'safety_monitor = communication_tutorial.safety_monitor:main',\n    ],\n},\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Build the package:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\ncolcon build --packages-select communication_tutorial\nsource install/setup.bash\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Run the publisher and subscriber nodes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Terminal 1: Run sensor node\nros2 run communication_tutorial sensor_node\n\n# Terminal 2: Run processing node\nros2 run communication_tutorial processing_node\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Monitor the communication using ROS 2 tools:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# View topic statistics\nros2 topic hz /sensors/laser_scan\n\n# Echo messages\nros2 topic echo /processing/obstacles\n\n# View the communication graph\nrqt_graph\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"lab-exercise-2-service-communication",children:"Lab Exercise 2: Service Communication"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Implement the navigation service (server) and safety monitor (client) from the examples"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Test the service communication:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Terminal 1: Run navigation service\nros2 run communication_tutorial navigation_service\n\n# Terminal 2: Run safety monitor\nros2 run communication_tutorial safety_monitor\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Test the service manually from command line:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ros2 service call /navigation/check_safety example_interfaces/srv/Trigger\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"lab-exercise-3-qos-policy-experimentation",children:"Lab Exercise 3: QoS Policy Experimentation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create two versions of the sensor node with different QoS policies:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"One with RELIABLE policy"}),"\n",(0,r.jsx)(n.li,{children:"One with BEST_EFFORT policy"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create corresponding subscribers with matching QoS policies"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Observe the differences in communication behavior under network stress"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"ros2 doctor"})," to diagnose communication issues"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"real-world-mapping",children:"Real-World Mapping"}),"\n",(0,r.jsx)(n.h3,{id:"industrial-applications",children:"Industrial Applications"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Factory Automation"}),": Sensor nodes continuously publish data about production status, while control nodes subscribe to make real-time adjustments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Warehouse Robotics"}),": Service calls are used for critical operations like requesting lift access or confirming package placement"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Quality Control"}),": Inspection systems publish results to multiple downstream consumers (quality database, production control, alert systems)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"autonomous-systems",children:"Autonomous Systems"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Self-Driving Cars"}),": LiDAR, radar, and camera nodes publish sensor data to perception systems; path planning services are called when route changes are needed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Drone Systems"}),": Flight control nodes publish telemetry data; service calls are used for critical operations like emergency landing procedures"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Agricultural Robots"}),": Sensor fusion nodes aggregate data from multiple sensors; service calls coordinate with farm management systems"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"research-platforms",children:"Research Platforms"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Humanoid Robots"}),": Multiple sensor nodes (IMU, cameras, force sensors) publish data to central processing nodes; services handle critical operations like balance recovery"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Swarm Robotics"}),": Individual robot nodes publish status information; service calls coordinate group behaviors"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Space Robotics"}),": Communication is designed with appropriate QoS policies to handle variable connection quality"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"Lesson 2 has covered the fundamental communication mechanisms in ROS 2: nodes, topics, and services. We've explored how these components enable modular, scalable robotic systems through practical code examples of sensor publishing, data processing, and service-based communication. The lab exercises provide hands-on experience with creating and connecting these communication patterns, while the QoS policy discussion highlights the importance of appropriate configuration for different application requirements. Understanding these communication patterns is essential for building robust Physical AI systems that can coordinate complex behaviors between distributed components."})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var i=s(6540);const r={},a=i.createContext(r);function o(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);